[gd_scene load_steps=14 format=3 uid="uid://drfi6euxvh1yx"]

[ext_resource type="Script" path="res://assets/Scripts/GameManager.cs" id="1_1d5ay"]
[ext_resource type="Script" path="res://assets/Scripts/Player.cs" id="1_ussea"]
[ext_resource type="PackedScene" uid="uid://csr4qumwfa4qg" path="res://assets/Scenes/liquor_outlet.tscn" id="2_k4sn4"]
[ext_resource type="PackedScene" uid="uid://dnhcdoqsul3ob" path="res://assets/Scenes/Pistol.tscn" id="3_5a4h0"]
[ext_resource type="PackedScene" uid="uid://bb67rvws5ekus" path="res://assets/Scenes/Cop.tscn" id="3_irsah"]
[ext_resource type="Texture2D" uid="uid://bm2yu22141fgx" path="res://assets/Sprites/HUD/Health_and_Lipase.png" id="5_st6xk"]
[ext_resource type="Texture2D" uid="uid://dcvywwvvmt3ck" path="res://assets/Sprites/HUD/Health_Bar.png" id="6_cwiyx"]
[ext_resource type="Texture2D" uid="uid://04lthd6ux1bv" path="res://assets/Sprites/HUD/Lipase_Bar.png" id="7_nls4b"]
[ext_resource type="Texture2D" uid="uid://qkmbfxft8el8" path="res://assets/Sprites/HUD/Interaction_Icon.png" id="9_1p4m2"]
[ext_resource type="Texture2D" uid="uid://uqvnaffh064k" path="res://assets/Sprites/HUD/Facecam.png" id="10_g8o6o"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_r1fmd"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_aes0b"]

[sub_resource type="NavigationMesh" id="NavigationMesh_oj4tw"]
vertices = PackedVector3Array(-11.0001, 7.25, -33, -11.0001, 7.25, -11, -1.00007, 7.25, -11, -1.00007, 7.25, -33, -5.28578, 10.5, -33, -6.71435, 10.25, -33, -6.71435, 10.25, -11, -5.28578, 10.5, -11, -5.97998, 10.75, -29.4981, -6.00432, 10.75, -12.9938, 17.7499, 0.5, -29.25, 20.7499, 0.5, -29.25, 20.9999, 0.5, -33, 16.9999, 0.5, -28.5, 17.7499, 0.5, -29.25, 20.9999, 0.5, -33, 0.999934, 0.5, -33, 0.999934, 0.5, -11.75, 16.9999, 0.5, -11.75, 16.9999, 0.5, -28.5, 0.999934, 0.5, -33, 20.9999, 0.5, -33, 20.7499, 0.5, -29.25, 22.2499, 0.5, -29.25, 20.9999, 0.5, -33, 22.2499, 0.5, -29.25, 22.9999, 0.5, -28.5, 42.9999, 0.5, -33, 22.2499, 0.5, -23, 19.2499, 0.5, -23, 19.2499, 0.5, -11.25, 22.9999, 0.5, -23.75, 22.2499, 0.5, -23, 19.2499, 0.5, -11.25, 42.9999, 0.5, -11.25, 42.9999, 0.5, -33, 42.9999, 0.5, -33, 22.9999, 0.5, -28.5, 22.9999, 0.5, -23.75, -7.75007, 0.5, -31.25, -7.00007, 0.5, -30.5, -6.50007, 0.5, -31.25, -10.7501, 0.5, -32.75, -10.7501, 0.5, -31, -7.75007, 0.5, -31.25, -10.7501, 0.5, -32.75, -7.75007, 0.5, -31.25, -6.50007, 0.5, -31.25, -1.25007, 0.5, -32.75, -10.7501, 0.5, -32.75, -6.50007, 0.5, -31.25, -3.75007, 0.5, -31.25, -1.25007, 0.5, -23.5, -1.25007, 0.5, -32.75, -3.00007, 0.5, -30.5, -3.25007, 0.5, -23.5, -1.25007, 0.5, -32.75, -3.75007, 0.5, -31.25, -3.00007, 0.5, -30.5, 18.9999, 6.25, -27.25, 18.9999, 6.25, -25, 20.9999, 6.25, -25, 20.9999, 6.25, -27.25, 19.2499, 0.5, -27, 19.2499, 0.5, -25.25, 20.7499, 0.5, -25.25, 20.7499, 0.5, -27, -6.50007, 0.5, -23, -7.00007, 0.5, -23.75, -7.75007, 0.5, -23, -9.75007, 0.5, -19.25, -9.00007, 0.5, -18.5, -9.75007, 0.5, -13, -10.7501, 0.5, -13, -10.7501, 0.5, -11.25, -1.25007, 0.5, -23.5, -3.25007, 0.5, -23.5, -3.75007, 0.5, -23, -9.00007, 0.5, -13.75, -9.75007, 0.5, -13, -10.7501, 0.5, -11.25, -1.25007, 0.5, -11.25, -10.7501, 0.5, -23.25, -10.7501, 0.5, -19.25, -9.75007, 0.5, -19.25, -7.75007, 0.5, -23, -3.75007, 0.5, -23, -6.50007, 0.5, -23, -9.00007, 0.5, -18.5, -1.25007, 0.5, -23.5, -3.75007, 0.5, -23, -9.00007, 0.5, -18.5, -9.00007, 0.5, -13.75, -1.25007, 0.5, -11.25, 0.249934, 0.5, -9.00003, -1.50007, 0.5, -9.00003, -1.50007, 0.5, 6.74997, 0.249934, 0.5, 6.74997, 0.999934, 0.5, -9.75003, 0.249934, 0.5, -9.00003, 0.249934, 0.5, 6.74997, 0.999934, 0.5, 7.49997, 17.7499, 0.5, -9.00003, 16.9999, 0.5, -9.75003, 16.9999, 0.5, -9.75003, 16.9999, 0.5, -11.75, 0.999934, 0.5, -11.75, 0.999934, 0.5, -9.75003, 24.9999, 0.5, 13, 24.9999, 0.5, -9.00003, 17.7499, 0.5, -9.00003, 0.999934, 0.5, 7.49997, 0.999934, 0.5, 13, -1.50007, 0.5, 6.74997, -1.50007, 0.5, -9.00003, -11.0001, 0.5, -9.00003, -11.0001, 0.5, 6.74997)
polygons = [PackedInt32Array(2, 8, 3), PackedInt32Array(3, 8, 4), PackedInt32Array(4, 8, 5), PackedInt32Array(5, 8, 0), PackedInt32Array(0, 8, 1), PackedInt32Array(1, 9, 6), PackedInt32Array(6, 9, 7), PackedInt32Array(7, 9, 2), PackedInt32Array(2, 9, 8), PackedInt32Array(8, 9, 1), PackedInt32Array(12, 11, 10), PackedInt32Array(14, 13, 15), PackedInt32Array(15, 13, 16), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 20), PackedInt32Array(23, 22, 21), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 27), PackedInt32Array(30, 29, 28), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(34, 31, 35), PackedInt32Array(38, 37, 36), PackedInt32Array(41, 40, 39), PackedInt32Array(44, 43, 42), PackedInt32Array(47, 46, 45), PackedInt32Array(51, 50, 48), PackedInt32Array(48, 50, 49), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53), PackedInt32Array(58, 57, 56), PackedInt32Array(62, 61, 59), PackedInt32Array(59, 61, 60), PackedInt32Array(66, 65, 63), PackedInt32Array(63, 65, 64), PackedInt32Array(68, 67, 69), PackedInt32Array(69, 67, 70), PackedInt32Array(70, 67, 71), PackedInt32Array(74, 73, 72), PackedInt32Array(77, 76, 75), PackedInt32Array(79, 78, 80), PackedInt32Array(80, 78, 81), PackedInt32Array(83, 82, 84), PackedInt32Array(84, 82, 85), PackedInt32Array(88, 87, 86), PackedInt32Array(90, 89, 91), PackedInt32Array(91, 89, 92), PackedInt32Array(92, 89, 93), PackedInt32Array(97, 96, 94), PackedInt32Array(94, 96, 95), PackedInt32Array(99, 98, 100), PackedInt32Array(100, 98, 101), PackedInt32Array(101, 98, 103), PackedInt32Array(101, 103, 102), PackedInt32Array(107, 106, 104), PackedInt32Array(104, 106, 105), PackedInt32Array(109, 108, 110), PackedInt32Array(110, 108, 111), PackedInt32Array(111, 108, 112), PackedInt32Array(116, 115, 113), PackedInt32Array(113, 115, 114)]
agent_height = 2.0
agent_radius = 1.0

[node name="MovementTest" type="Node3D" node_paths=PackedStringArray("hitRect", "player", "healthBar", "lipaseBar")]
script = ExtResource("1_1d5ay")
hitRect = NodePath("CanvasLayer/UI/HitRect")
player = NodePath("Player")
healthBar = NodePath("CanvasLayer/UI/HealthBar")
lipaseBar = NodePath("CanvasLayer/UI/LipaseBar")

[node name="Player" type="CharacterBody3D" parent="." node_paths=PackedStringArray("head", "camera")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33.671, 2.2361, -16.756)
script = ExtResource("1_ussea")
head = NodePath("Head")
camera = NodePath("Head/Camera3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
shape = SubResource("CapsuleShape3D_r1fmd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Player"]
mesh = SubResource("CapsuleMesh_aes0b")

[node name="Head" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.606531, 0)

[node name="Camera3D" type="Camera3D" parent="Player/Head"]

[node name="Gun" type="Node3D" parent="Player/Head/Camera3D"]

[node name="Pistol" parent="Player/Head/Camera3D/Gun" instance=ExtResource("3_5a4h0")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_oj4tw")

[node name="Liquor Outlet" parent="NavigationRegion3D" instance=ExtResource("2_k4sn4")]

[node name="Cop" parent="." instance=ExtResource("3_irsah")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.604, 1, -1.05938)
playerPath = NodePath("../Player")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UI" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="HitRect" type="ColorRect" parent="CanvasLayer/UI"]
layout_mode = 0
offset_right = 1152.0
offset_bottom = 648.0
mouse_filter = 2
color = Color(0.85098, 0.172549, 0.27451, 0.270588)

[node name="HealthAndLipase" type="TextureRect" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -300.0
offset_right = 450.0
grow_vertical = 0
scale = Vector2(0.6, 0.6)
pivot_offset = Vector2(0, 300)
texture = ExtResource("5_st6xk")

[node name="HealthBar" type="TextureProgressBar" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 38.0
offset_top = -119.0
offset_right = 365.0
offset_bottom = -69.0
grow_vertical = 0
scale = Vector2(0.6, 0.6)
value = 100.0
texture_progress = ExtResource("6_cwiyx")

[node name="LipaseBar" type="TextureProgressBar" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 35.0
offset_top = -61.0
offset_right = 362.0
offset_bottom = -13.0
grow_vertical = 0
scale = Vector2(0.6, 0.6)
value = 100.0
texture_progress = ExtResource("7_nls4b")

[node name="InteractionIcon" type="TextureRect" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.25, 0.25)
pivot_offset = Vector2(165, 165)
texture = ExtResource("9_1p4m2")

[node name="FaceCam" type="TextureRect" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -620.0
offset_bottom = 909.0
grow_horizontal = 0
scale = Vector2(0.25, 0.25)
pivot_offset = Vector2(620, 0)
texture = ExtResource("10_g8o6o")

[connection signal="playerHit" from="Player" to="." method="_on_player_player_hit"]
